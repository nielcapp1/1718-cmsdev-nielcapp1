var jsBrandPovHost=function(){"use strict";var e={ad:{debug:!1,debugParam:"bpovhostdeb",adReady:!1,ads:[],divId:"adBrandPov",div:null,iframe:null,site:document.location.origin,siteSent:!1},getUrlParams:function(e,o){o=o.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+o+"=([^&#]*)",t=new RegExp(n),d=t.exec(e);return null===d?"":d[1]},getInnerWidth:function(e){return parseFloat(window.getComputedStyle(e).width)},getAdInfo:function(){var o=[];return googletag.cmd.push(function(){for(var n=googletag.pubads().getSlots(),t=0;t<n.length;t++){var d=n[t].getSlotElementId();if(d==e.ad.divId){var i=String(n[t].getSlotId()),a=i.length,s=i.search("_"),r=i.substring(s+1,a);o[r]={},o[r].id=r,o[r].slotId=i,o[r].size=n[t].getSizes(),o[r].slotElementId=n[t].getSlotElementId(),o[r].dv=document.querySelector('[id*="'+i+'"]'),o[r].frm=o[r].dv.getElementsByTagName("iframe")[0],e.ad.debug&&console.log("[BPOV][h] Slot id: "+o[r].slotId+" - slotElementId: "+o[r].slotElementId+" - Size: "+o[r].size)}}}),o},listenForAd:function(){window.addEventListener?(e.ad.debug&&console.log("[BPOV][h] listenForAd - Listening For Brand POV Ad -"),window.addEventListener("message",function(o){var n=o.origin||o.originalEvent.origin;if(("http://tpc.googlesyndication.com"===n||"https://tpc.googlesyndication.com"===n)&&(e.ad.siteSent===!1&&e.ad.iframe&&(e.ad.debug&&console.log("[BPOV][h] listenForAd - Send Site - Begin -"),e.ad.iframe.contentWindow?(e.ad.iframe.contentWindow.postMessage({site:e.ad.site},n),e.ad.debug&&console.log("[BPOV][h] listenForAd - Send Site - contentWindow: ",e.ad.iframe.contentWindow)):e.ad.debug&&(console.log("[BPOV][h] listenForAd - Send Site - Ad iFrame: ",e.ad.iframe),console.log("[BPOV][h] listenForAd - Send Site - iFrame Content Window Not Found -")),e.ad.debug&&(console.log("[BPOV][h] listenForAd - siteSent: ",e.ad.siteSent," - site: ",e.ad.site),console.log("[BPOV][h] listenForAd - Send Site - End -"))),o.data.task)){var t=o.data.task,d=o.data.newHeight;switch(t){case"bpovloaded":for(var i=e.getAdInfo(),a=0;a<i.length;a++)"undefined"!=typeof i[a]&&i[a].slotElementId===e.ad.divId&&(e.ad.iframe=i[a].frm,i[a].frm.style.height=d+"px",i[a].frm.style.marginBottom="20px",i[a].frm.style.marginTop="20px",i[a].frm.contentWindow.postMessage({host:"received",site:e.ad.site},n),e.ad.debug&&(console.log("[BPOV][h] bpovloaded - Ad iFrame: ",e.ad.iframe),console.log("[BPOV][h] bpovloaded  - New Height - "+d)));break;case"increase":e.ad.debug&&(console.log("[BPOV][h] Increasing - Begin -"),console.log("[BPOV][h] Increasing - Ad iFrame: ",e.ad.iframe),console.log("[BPOV][h] Increasing - ad iframe newHeight = "+d)),e.ad.iframe.style.height=d+"px",e.ad.debug&&(console.log("[BPOV][h] Increasing - ad iframe style height = "+e.ad.iframe.style.height),console.log("[BPOV][h] Increasing - End -"));break;case"decrease":e.ad.debug&&(console.log("[BPOV][h] Decreasing - Begin -"),console.log("[BPOV][h] Decreasing - ad iframe newHeight = "+d),console.log("[BPOV][h] Decreasing - Ad iFrame: ",e.ad.iframe)),e.ad.iframe.style.height=d+"px";var s=document.body.getBoundingClientRect(),r=e.ad.iframe.getBoundingClientRect(),l=r.top-s.top-60;window.scrollTo(0,l),e.ad.debug&&(console.log("[BPOV][h] Decreasing - body getBoundingClientRect: ",document.body.getBoundingClientRect()),console.log("[BPOV][h] Decreasing - ad iframe getBoundingClientRect: ",e.ad.iframe.getBoundingClientRect()),console.log("[BPOV][h] Decreasing - ad iframe is "+l+" vertical pixels from <body>"),console.log("[BPOV][h] Decreasing - ad iframe style height = "+e.ad.iframe.style.height),console.log("[BPOV][h] Decreasing - End -"));break;case"site":e.ad.siteSent=!0,e.ad.debug&&console.log("[BPOV][h] siteSent: ",e.ad.siteSent," - site: ",e.ad.site)}}},!1)):console.log("[BPOV][h] Listening - NOT SUPPORTED -")}},o={gup:function(o,n){return e.getUrlParams(o,n)},setDebug:function(o){e.ad&&(e.ad.debug="true"==o)},listenForAd:function(){return"true"===o.gup(window.location!=window.parent.location?document.referrer:document.location.href,e.ad.debugParam)&&o.setDebug("true"),e.listenForAd()}};return o},jsBpov=jsBrandPovHost();jsBpov.listenForAd();